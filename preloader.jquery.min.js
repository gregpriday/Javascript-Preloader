(function(b){b.preload=function(d,e){var e=b.extend({nocache:!1,start:null,each:null,complete:null,insert:!1,insertComplete:!0},e),i=function(){for(var b=0,a=0;a<d.length;a++)d[a].loaded&&b++;return b==d.length},h=function(f){var a=d[f];a.loaded||(null!=a.callback&&d[f].callback(),a.loaded=!0,a.insert&&("css"==a.type||"js"==a.type)&&a.el.appendTo(b("head")),"function"==e.each&&e.each(d[f]),i()&&("function"==typeof e.complete&&e.complete(d),e.insertComplete&&b.each(d,function(a,c){"css"==c.type||"js"==
c.type?c.el.appendTo(b("head")):"html"==c.type&&c.appendTo&&b(c.appendTo).append(c.el)})))};b.each(d,function(f,a){var a=b.extend({type:null,callback:null},a),g=!1,c=a.url;e.nocache&&(c=c+(1<c.split("?")?"&":"?")+"nocache="+Math.random());"image"==a.type?(a.el=b("<img />").attr("src",c),g=!0):"css"==a.type?(a.el=b('<link rel="stylesheet" type="text/css" media="all" />').attr("href",c),g=!0):"js"==a.type?(a.el=b('<script type="text/javascript" />').attr("src",c),g=!0):"html"==a.type&&b.get(c,function(a){d[f].el=
b(a);h(f)});g&&(d[f]=a,b("<img />").attr("src",a.url).ready(function(){h(f,a)}))});null!=e.start&&e.start();return d}})(jQuery);